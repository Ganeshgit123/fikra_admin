<div class="card">
<div class="card-body">
<p class="text-right"><button type="button" class="btn btn-primary w-md waves-effect waves-light" (click)="addCity(cityModal)">Add New</button></p>
<ng-template #cityModal let-modal>
<div class="modal-header">
<button type="button" class="close" (click)="modal.dismiss('Cross click')" aria-hidden="true">Ã—</button>
</div>
<div class="modal-body">
<form [formGroup]="addNewCity">
<div class="form-group">
<label>Country Name</label>
<select class="form-control" formControlName="countryId">
<option *ngFor="let item of countryList" value="{{item._id}}">{{item.countryName}}</option>
</select>
</div>
<div class="form-group">
<label>City Name</label>
<input type="text" class="form-control" formControlName="cityName">
</div>
<br>
<p class="text-center"><button type="button" class="btn btn-primary w-md waves-effect waves-light" (click)="onCitySubmit()">Save</button></p>
</form>
</div>
</ng-template>
<div class="table-responsive">
<table id="basic-datatable"
class="table table-bordered dt-responsive nowrap datatables no-footer dtr-inline">
<thead>
<tr>
<th>Country Name</th>
<th>City Name</th>
<th>Status</th>
<th>Action</th>
</tr>
</thead>
<tbody  *ngFor="let item of countryList;">
<tr *ngFor="let cites of item.city;">
<td>{{item.countryName}}</td>
<td>{{cites.cityName}}</td>
<td>
<label class="switch">
    <input *ngIf="cites._isOn_ === true"  type="checkbox" checked (change)="onchangeCityStatus($event,item._id,cites)">
    <input *ngIf="cites._isOn_ === false" type="checkbox" unchecked (change)="onchangeCityStatus($event,item._id,cites)">
<span class="slider"></span>
</label>    
</td>
<td>
<a class="mr-3 text-info" ngbTooltip="Edit" (click)="viewCity(item._id,cites,cityModal)"><i
class="mdi mdi-pencil font-size-18"></i></a>
<a class="text-danger text-info" ngbTooltip="Delete" (click)="deleteCity(item._id,cites)"><i
class="mdi mdi-trash-can font-size-18"></i></a>
</td>
</tr>
</tbody>
</table>
</div>
</div>
</div>